<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الموقع الجامعي - المكتبة</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* أنماط إضافية للمكتبة */
        .materials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .material-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
            cursor: pointer;
        }

        .material-card:hover {
            transform: translateY(-5px);
        }

        .material-icon {
            width: 60px;
            height: 60px;
            background: var(--secondary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 1.5rem;
        }

        .material-card h4 {
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .material-card p {
            color: #666;
            margin-bottom: 15px;
        }

        /* نافذة المحتوى - معدلة لتكون في منتصف الشاشة */
        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            box-sizing: border-box;
        }

        .popup-content {
            background-color: white;
            border-radius: 15px;
            padding: 30px;
            width: 100%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            animation: popupFadeIn 0.3s ease-out;
        }

        @keyframes popupFadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .close-popup {
            position: absolute;
            top: 15px;
            left: 15px;
            font-size: 1.8rem;
            cursor: pointer;
            color: #999;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .close-popup:hover {
            color: var(--accent-color);
            background-color: #f9f9f9;
        }

        .popup-title {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--secondary-color);
        }

        .material-files {
            margin-top: 20px;
        }

        .file-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 12px;
            background-color: #f9f9f9;
            transition: background-color 0.3s;
        }

        .file-item:hover {
            background-color: #f0f0f0;
        }

        .file-item:last-child {
            margin-bottom: 0;
        }

        .file-icon {
            font-size: 1.8rem;
            color: #e74c3c;
            margin-left: 15px;
            width: 40px;
            text-align: center;
        }

        .file-info {
            flex: 1;
        }

        .file-info p {
            margin-bottom: 5px;
            color: var(--primary-color);
            font-weight: 500;
        }

        .download-btn {
            background: var(--success-color);
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            font-size: 0.9rem;
            transition: background 0.3s;
        }

        .download-btn i {
            margin-left: 5px;
            color: white;
            font-size: 0.9rem;
        }

        .download-btn:hover {
            background: #27ae60;
        }

        /* رسالة عدم وجود مواد */
        .no-materials {
            text-align: center;
            padding: 40px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin: 30px 0;
        }

        .no-materials i {
            font-size: 3rem;
            color: #ddd;
            margin-bottom: 20px;
        }

        .no-materials p {
            color: #777;
            font-size: 1.2rem;
        }

        /* تحسينات للشاشات الصغيرة */
        @media (max-width: 768px) {
            .popup-content {
                padding: 20px;
                width: 95%;
            }
            
            .file-item {
                flex-direction: column;
                text-align: center;
            }
            
            .file-icon {
                margin-left: 0;
                margin-bottom: 10px;
            }
            
            .file-info {
                width: 100%;
            }
            
            .download-btn {
                margin-top: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- شريط التنقل -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <a href="index.html">
                    <svg width="40" height="40" viewBox="0 0 50 50">
                        <circle cx="25" cy="25" r="20" fill="#2c3e50"/>
                        <path d="M25 10 L30 20 L40 20 L32 27 L35 37 L25 30 L15 37 L18 27 L10 20 L20 20 Z" fill="#ecf0f1"/>
                    </svg>
                    <span>الموقع الجامعي</span>
                </a>
            </div>
            <ul class="nav-menu">
                <li class="nav-item"><a href="index.html" class="nav-link"><i class="fas fa-home"></i> الرئيسية</a></li>
                <li class="nav-item"><a href="library.html" class="nav-link active"><i class="fas fa-book"></i> المكتبة</a></li>
                <li class="nav-item"><a href="schedule.html" class="nav-link"><i class="fas fa-calendar-alt"></i> الجداول</a></li>
                <li class="nav-item"><a href="gpa.html" class="nav-link"><i class="fas fa-calculator"></i> حاسبة GPA</a></li>
                <li class="nav-item"><a href="links.html" class="nav-link"><i class="fas fa-link"></i> الروابط</a></li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- البانر -->
    <header class="banner">
        <div class="banner-content">
            <h1>مكتبة الملازم والكتب</h1>
            <p>وصول سهل لجميع الكتب والملازم الدراسية</p>
        </div>
        <svg class="wave" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
            <path fill="#ffffff" fill-opacity="1" d="M0,224L48,213.3C96,203,192,181,288,181.3C384,181,480,203,576,192C672,181,768,139,864,138.7C960,139,1056,181,1152,186.7C1248,192,1344,160,1392,144L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
        </svg>
    </header>

    <!-- المحتوى الرئيسي -->
    <main class="container">
        <section class="welcome-section">
            <h2>مكتبة المواد الدراسية</h2>
            <p>اختر القسم والمستوى الدراسي للوصول إلى المواد والملازم</p>
        </section>

        <!-- نظام التصفية -->
        <div class="filter-system">
            <div class="filter-group">
                <label for="department">اختر القسم:</label>
                <select id="department" class="filter-select">
                    <option value="">-- اختر القسم --</option>
                    <option value="civil">هندسة مدنية</option>
                    <option value="architecture">هندسة عمارة</option>
                    <option value="electrical">هندسة كهربائية</option>
                </select>
            </div>

            <div class="filter-group">
                <label for="level">اختر المستوى:</label>
                <select id="level" class="filter-select" disabled>
                    <option value="">-- اختر المستوى --</option>
                    <option value="1">المستوى الأول</option>
                    <option value="2">المستوى الثاني</option>
                    <option value="3">المستوى الثالث</option>
                    <option value="4">المستوى الرابع</option>
                </select>
            </div>
        </div>

        <!-- عرض المواد -->
        <div id="materialsContainer">
            <!-- سيتم ملء المحتوى هنا عبر JavaScript -->
        </div>

        <!-- Popup لعرض محتوى المادة - في منتصف الشاشة -->
        <div id="materialPopup" class="popup">
            <div class="popup-content">
                <span class="close-popup">&times;</span>
                <h3 class="popup-title" id="popupTitle">اسم المادة</h3>
                <div id="popupContent">
                    <!-- سيتم ملء المحتوى هنا عبر JavaScript -->
                </div>
            </div>
        </div>
    </main>

    <!-- الفوتر -->
    <footer class="footer">
        <p>&copy; 2023 الموقع الجامعي. جميع الحقوق محفوظة.</p>
    </footer>

    <!-- زر العودة للأعلى -->
    <button id="backToTop" class="back-to-top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script>
        // بيانات المواد (يمكن توسيعها بسهولة)
        const materialsData = {
            civil: {
                1: [
                    {
                        id: "math1",
                        name: "رياضيات 1",
                        files: [
                            { name: "ملخص الرياضيات 1", url: "https://drive.google.com/uc?export=download&id=1EXAMPLE1" },
                            { name: "تمارين محلولة", url: "https://drive.google.com/uc?export=download&id=1EXAMPLE2" },
                            { name: "محاضرة الأسبوع الأول", url: "https://drive.google.com/uc?export=download&id=1EXAMPLE3" }
                        ]
                    },
                    {
                        id: "physics1",
                        name: "فيزياء 1",
                        files: [
                            { name: "ملخص الفيزياء 1", url: "https://drive.google.com/uc?export=download&id=2EXAMPLE1" },
                            { name: "تجارب معملية", url: "https://drive.google.com/uc?export=download&id=2EXAMPLE2" }
                        ]
                    },
                    {
                        id: "programming",
                        name: "مقدمة في البرمجة",
                        files: [
                            { name: "كتاب البرمجة للمبتدئين", url: "https://drive.google.com/uc?export=download&id=3EXAMPLE1" },
                            { name: "تمارين برمجية", url: "https://drive.google.com/uc?export=download&id=3EXAMPLE2" },
                            { name: "مشروع نهاية المادة", url: "https://drive.google.com/uc?export=download&id=3EXAMPLE3" }
                        ]
                    }
                ],
                2: [
                    // يمكن إضافة مواد المستوى الثاني هنا
                ]
            },
            architecture: {
                1: [
                    {
                        id: "design1",
                        name: "تصميم 1",
                        files: [
                            { name: "أساسيات التصميم", url: "https://drive.google.com/uc?export=download&id=4EXAMPLE1" },
                            { name: "نماذج تصميمية", url: "https://drive.google.com/uc?export=download&id=4EXAMPLE2" }
                        ]
                    },
                    // يمكن إضافة مواد أخرى هنا
                ]
            },
            electrical: {
                1: [
                    {
                        id: "circuits1",
                        name: "دوائر كهربائية 1",
                        files: [
                            { name: "ملخص الدوائر الكهربائية", url: "https://drive.google.com/uc?export=download&id=5EXAMPLE1" },
                            { name: "تمارين محلولة", url: "https://drive.google.com/uc?export=download&id=5EXAMPLE2" }
                        ]
                    },
                    // يمكن إضافة مواد أخرى هنا
                ]
            }
        };

        // عناصر DOM
        const departmentSelect = document.getElementById('department');
        const levelSelect = document.getElementById('level');
        const materialsContainer = document.getElementById('materialsContainer');
        const materialPopup = document.getElementById('materialPopup');
        const popupTitle = document.getElementById('popupTitle');
        const popupContent = document.getElementById('popupContent');
        const closePopup = document.querySelector('.close-popup');

        // تفعيل اختيار المستوى عند اختيار القسم
        departmentSelect.addEventListener('change', function() {
            if (this.value) {
                levelSelect.disabled = false;
                materialsContainer.innerHTML = ''; // مسح المحتوى السابق
            } else {
                levelSelect.disabled = true;
                levelSelect.value = '';
                materialsContainer.innerHTML = '';
            }
        });

        // عرض المواد عند اختيار المستوى
        levelSelect.addEventListener('change', function() {
            const department = departmentSelect.value;
            const level = this.value;
            
            if (department && level) {
                displayMaterials(department, level);
            }
        });

        // عرض المواد
        function displayMaterials(department, level) {
            const materials = materialsData[department] && materialsData[department][level];
            
            if (!materials || materials.length === 0) {
                materialsContainer.innerHTML = `
                    <div class="no-materials">
                        <i class="fas fa-folder-open"></i>
                        <p>لا توجد مواد متاحة لهذا المستوى حالياً</p>
                    </div>
                `;
                return;
            }
            
            let html = `<h3 class="materials-title">مواد المستوى ${level}</h3>`;
            html += '<div class="materials-grid">';
            
            materials.forEach(material => {
                html += `
                    <div class="material-card" data-material="${material.id}">
                        <div class="material-icon">
                            <i class="fas fa-book"></i>
                        </div>
                        <h4>${material.name}</h4>
                        <p>${material.files.length} ملف متاح</p>
                        <button class="view-btn">عرض المحتوى</button>
                    </div>
                `;
            });
            
            html += '</div>';
            materialsContainer.innerHTML = html;
            
            // إضافة أحداث النقر على بطاقات المواد
            document.querySelectorAll('.material-card').forEach(card => {
                card.addEventListener('click', function() {
                    const materialId = this.getAttribute('data-material');
                    const department = departmentSelect.value;
                    const level = levelSelect.value;
                    openMaterialPopup(department, level, materialId);
                });
            });
        }

        // فتح نافذة المحتوى
        function openMaterialPopup(department, level, materialId) {
            const material = materialsData[department][level].find(m => m.id === materialId);
            
            if (!material) return;
            
            popupTitle.textContent = material.name;
            
            let filesHtml = '<div class="material-files">';
            material.files.forEach(file => {
                filesHtml += `
                    <div class="file-item">
                        <div class="file-icon">
                            <i class="fas fa-file-pdf"></i>
                        </div>
                        <div class="file-info">
                            <p>${file.name}</p>
                            <a href="${file.url}" class="download-btn" download>
                                <i class="fas fa-download"></i> تحميل
                            </a>
                        </div>
                    </div>
                `;
            });
            filesHtml += '</div>';
            
            popupContent.innerHTML = filesHtml;
            materialPopup.style.display = 'flex';
        }

        // إغلاق النافذة
        closePopup.addEventListener('click', function() {
            materialPopup.style.display = 'none';
        });

        // إغلاق النافذة عند النقر خارجها
        window.addEventListener('click', function(event) {
            if (event.target === materialPopup) {
                materialPopup.style.display = 'none';
            }
        });

        // إغلاق النافذة بالزر ESC
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                materialPopup.style.display = 'none';
            }
        });
    </script>

    <script src="script.js"></script>
</body>
</html>